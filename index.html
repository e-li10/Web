<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">

  <!--‑‑‑ CHANGED ↓↓↓ ‑‑‑-->
  <title>Eric Li</title>
  <!--‑‑‑ CHANGED ↑↑↑ ‑‑‑-->

  <meta name="viewport" content="width=device-width,initial-scale=1">

  <!-- Cormorant Garamond -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400&display=swap" rel="stylesheet">

  <!-- Pre-load hero to stop layout shift -->
  <link rel="preload" as="image"
        href="https://ids.si.edu/ids/deliveryService?id=SAAM-1967.107.2_1&max=960">

  <style>
    *{margin:0;padding:0;box-sizing:border-box}

    :root{
      --ink:#000;
      --stack:680px;
      --top:35px;
    }

    body{
      font-family:'Cormorant Garamond',serif;
      color:var(--ink);
      text-align:center;
      line-height:1.45;
      opacity:0;
      animation:fade .4s ease forwards;
      animation-fill-mode:forwards;
    }

    main{width:var(--stack);margin:var(--top) auto 0}

    #hero{width:129px;height:190px;object-fit:cover;display:block;margin:0 auto 5px}

    h1{font-weight:400;font-size:32px;margin-bottom:8px}

    #links{display:flex;justify-content:center;gap:2em;font-size:16px;font-weight:400;margin-bottom:15px}

    .divider{width:70%;margin:6px auto 0;border:none;border-top:1px solid var(--ink)}

    #clock{
      position:fixed;top:12px;right:16px;
      font:400 16px 'Cormorant Garamond',serif;
      color:var(--ink);
    }

    /* floating quotes */
    #ticker{position:fixed;inset:0;pointer-events:none;z-index:5}
    .quote{
      position:fixed;
      font:300 14px 'Cormorant Garamond',serif;
      color:var(--ink);
      animation:fadeCycle 6s ease-in-out forwards;
      white-space:nowrap;
      user-select:none;
    }

    @keyframes fade{to{opacity:1}}
    @keyframes fadeCycle{
      0%{opacity:0;transform:translateY(6px) scale(.94)}
      15%{opacity:1;transform:translateY(0) scale(1)}
      70%{opacity:1}
      100%{opacity:0;transform:translateY(-6px) scale(1.04)}
    }

    h1 a,#links a{color:var(--ink)!important;text-decoration:none!important}
  </style>
</head>
<body>
  <time id="clock" aria-label="Current time" datetime=""></time>

  <main>
    <img id="hero"
         src="https://ids.si.edu/ids/deliveryService?id=SAAM-1967.107.2_1&max=960"
         alt="Louis Lozowick, New York (1923)">
    <h1>
      <a href="https://www.linkedin.com/in/eric-li-226850249/"
         target="_blank" rel="noopener">Eric Li</a>
    </h1>
    <div id="links">
      <a href="thoughts.html">Thoughts</a>
      <a href="mailto:eric_li1@college.harvard.edu">Contact</a>
    </div>
    <hr class="divider">
    <div id="ticker" aria-hidden="true"></div>
  </main>

  <!-- live clock -->
  <script>
    const clk=document.getElementById('clock');
    function tick(){
      const now=new Date();
      clk.textContent=new Intl.DateTimeFormat('en-US',{
        timeZone:'America/New_York',hour12:false,
        hour:'2-digit',minute:'2-digit',second:'2-digit'
      }).format(now);
      clk.dateTime=now.toISOString();
    }
    tick();
    let tickTimer=setInterval(tick,1000);
  </script>

<!-- animated monochrome ink-blot favicon -->
<script>
(function () {
  // ───── canvas boilerplate (same size as before) ─────
  const icon = document.createElement('link');
  icon.rel = 'icon';
  icon.type = 'image/png';
  icon.sizes = '16x16';
  document.head.appendChild(icon);

  const cvs = document.createElement('canvas');
  cvs.width = cvs.height = 16;
  const ctx  = cvs.getContext('2d', { willReadFrequently: false });
  ctx.translate(2, 0);               // nudge everything 2 px to the right
  
  // ───── parameters you can tweak ─────
  const LIFETIME   = 180;   // frames per blot (~3 s at 60 fps)
  const SEED_COUNT = 4;     // starting pixels (higher = busier blot)
  const MIRROR_Y   = true;  // vertical symmetry
  const MIRROR_X   = false; // horizontal, keep off for a tall blot

  // ───── helpers ─────
  const rnd = n => Math.floor(Math.random() * n);
  const key = (x, y) => (y << 4) | x;       // 4-bit coords pack into 8-bit int

  // ───── animator loop ─────
  let pixels = new Set();
  let frame  = 0;

  function seedBlot() {
    pixels.clear();
    for (let i = 0; i < SEED_COUNT; i++) {
      const x = rnd(8), y = rnd(8);
      pixels.add(key(x, y));
      if (MIRROR_Y) pixels.add(key(x, 15 - y));
      if (MIRROR_X) pixels.add(key(15 - x, y));
      if (MIRROR_Y && MIRROR_X) pixels.add(key(15 - x, 15 - y));
    }
  }

  function grow() {
    // pick a random existing pixel, sprout one neighbour
    const arr = [...pixels];
    const [ox, oy] = [arr[rnd(arr.length)] & 15, arr[rnd(arr.length)] >> 4];
    const dirs = [[1,0],[-1,0],[0,1],[0,-1]];
    const [dx, dy] = dirs[rnd(4)];
    const nx = ox + dx, ny = oy + dy;
    if (nx < 0 || nx > 15 || ny < 0 || ny > 15) return;
    pixels.add(key(nx, ny));
    if (MIRROR_Y) pixels.add(key(nx, 15 - ny));
    if (MIRROR_X) pixels.add(key(15 - nx, ny));
    if (MIRROR_Y && MIRROR_X) pixels.add(key(15 - nx, 15 - ny));
  }

  function draw() {
    ctx.clearRect(0, 0, 16, 16);
    ctx.fillStyle = '#000';
    pixels.forEach(p => ctx.fillRect(p & 15, p >> 4, 1, 1));
    icon.href = cvs.toDataURL('image/png');
  }

  function step() {
    if (frame === 0) seedBlot();
    if (frame < LIFETIME) grow();
    draw();
    frame = (frame + 1) % (LIFETIME + 1);  // when frame resets, new blot seeds
    requestAnimationFrame(step);
  }
  step();
})();
</script>

  <!-- floating market-cap quotes (no stables) -->
  <script>
  (function(){
    const box=document.getElementById('ticker');
    const fmt=n=>n.toLocaleString('en-US',{style:'currency',currency:'USD',maximumFractionDigits:2});
    const noStable=/^(usd|usdt|usdc|busd|dai|usdp|usdd|tusd|fdusd)$/i;

    let coins=[],priceMap={},lastFetch=0;

    async function refreshData(){
      const now=Date.now();
      if(now-lastFetch<60000 && coins.length) return;         // cached <60 s
      try{
        const r=await fetch(
          'https://api.coingecko.com/api/v3/coins/markets' +
          '?vs_currency=usd&order=market_cap_desc&per_page=25&page=1&sparkline=false'
        );
        if(!r.ok) throw 0;
        const rows=await r.json();
        coins=rows.filter(c=>!noStable.test(c.symbol))
                  .map(c=>({id:c.id,sym:c.symbol.toUpperCase()}));
        const ids=coins.map(c=>c.id).join(',');
        const pRes=await fetch(
          `https://api.coingecko.com/api/v3/simple/price?ids=${ids}&vs_currencies=usd`
        );
        if(!pRes.ok) throw 0;
        priceMap=await pRes.json();
        lastFetch=now;
      }catch(e){
        if(!coins.length){coins=[{id:'bitcoin',sym:'BTC'},{id:'ethereum',sym:'ETH'}];}
      }
    }

    function safeSpot(){
      const vw=window.innerWidth,vh=window.innerHeight;
      const safeLeft=(vw-680)/2-80,safeRight=(vw+680)/2+80;
      let x,y;
      do{x=Math.random()*(vw-120);}while(x>safeLeft&&x<safeRight);
      y=80+Math.random()*(vh-160);                 // keep clear of top/hero
      return{x,y};
    }

    async function drop(){
      await refreshData();
      const pick=coins[Math.floor(Math.random()*coins.length)];
      const price=priceMap[pick.id]?.usd;
      if(price){
        const span=document.createElement('span');
        span.className='quote';
        span.textContent=`${pick.sym} ${fmt(price)}`;
        const pos=safeSpot();
        span.style.left=`${pos.x}px`;
        span.style.top =`${pos.y}px`;
        box.appendChild(span);
        setTimeout(()=>span.remove(),6000);
      }
      setTimeout(drop,6000);
    }
    drop();
  })();
  </script>
</body>
</html>
