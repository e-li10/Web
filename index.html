<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Eric Li</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500&family=Cormorant+Garamond:wght@400;600&display=swap"
    rel="stylesheet"
  >

  <!-- Site styles -->
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- full-screen fluid background -->
  <canvas id="bg"></canvas>

  <header>
    <h1>Eric Li</h1>
    <nav>
      <a href="/">Home</a>
      <a href="/thoughts">Thoughts</a>
    </nav>
  </header>

  <!-- Live Eastern-Time clock -->
  <div id="clock"></div>
  <script>
    function updateClock() {
      document.getElementById('clock').textContent =
        new Intl.DateTimeFormat('en-US', {
          timeZone: 'America/New_York',
          hour12: false,
          hour: '2-digit',
          minute: '2-digit',
          second: '2-digit'
        }).format(new Date());
    }
    updateClock();
    setInterval(updateClock, 1000);
  </script>

  <!-- Fluid “blob” animation script -->
  <script>
  (function(){
    const cvs = document.getElementById('bg');
    const ctx = cvs.getContext('2d');

    // full-viewport sizing
    function resize(){
      cvs.width  = window.innerWidth;
      cvs.height = window.innerHeight;
    }
    window.addEventListener('resize', resize);
    resize();

    // create N blobs with random size, speed and alpha
    const blobs = [];
    const N = 6;
    for (let i = 0; i < N; i++) {
      blobs.push({
        x: Math.random() * cvs.width,
        y: Math.random() * cvs.height,
        r: (Math.random() * 0.2 + 0.15) * Math.max(cvs.width, cvs.height),
        vx: (Math.random() - 0.5) * 0.3,
        vy: (Math.random() - 0.5) * 0.3,
        alpha: Math.random() * 0.2 + 0.1
      });
    }

    function draw() {
      ctx.clearRect(0, 0, cvs.width, cvs.height);
      ctx.globalCompositeOperation = 'lighter';
      blobs.forEach(b => {
        const grd = ctx.createRadialGradient(
          b.x, b.y, b.r * 0.3,
          b.x, b.y, b.r
        );
        grd.addColorStop(0, `rgba(34,34,34,${b.alpha})`);
        grd.addColorStop(1, 'rgba(34,34,34,0)');
        ctx.fillStyle = grd;
        ctx.fillRect(b.x - b.r, b.y - b.r, b.r * 2, b.r * 2);
      });
      ctx.globalCompositeOperation = 'source-over';
    }

    function update() {
      blobs.forEach(b => {
        b.x += b.vx;
        b.y += b.vy;
        // wrap around
        if (b.x < -b.r) b.x = cvs.width + b.r;
        if (b.x > cvs.width + b.r) b.x = -b.r;
        if (b.y < -b.r) b.y = cvs.height + b.r;
        if (b.y > cvs.height + b.r) b.y = -b.r;
      });
    }

    function loop(){
      draw();
      update();
      requestAnimationFrame(loop);
    }
    loop();
  })();
  </script>
</body>
</html>
