<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Eric Li</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500&family=Cormorant+Garamond:wght@400;600&display=swap"
    rel="stylesheet"
  >

  <!-- Site styles -->
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <!-- 3D art canvas sits here, fully transparent except for the mesh -->
    <canvas id="art"></canvas>

    <h1>Eric Li</h1>
    <nav>
      <a href="/">Home</a>
      <a href="/thoughts">Thoughts</a>
    </nav>
  </header>

  <!-- Live Eastern-Time clock -->
  <div id="clock"></div>
  <script>
    function updateClock() {
      document.getElementById('clock').textContent =
        new Intl.DateTimeFormat('en-US', {
          timeZone: 'America/New_York',
          hour12: false,
          hour: '2-digit',
          minute: '2-digit',
          second: '2-digit'
        }).format(new Date());
    }
    updateClock();
    setInterval(updateClock, 1000);
  </script>

  <!-- 3D Crypto × AI Art (Three.js) -->
  <script src="https://unpkg.com/three@0.150.0/build/three.min.js"></script>
  <script>
  (function(){
    const canvas = document.getElementById('art');
    const renderer = new THREE.WebGLRenderer({ canvas, alpha: true, antialias: true });
    renderer.setPixelRatio(window.devicePixelRatio);

    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(45, 1, 0.1, 100);
    camera.position.set(0, 0, 5);

    // lighting (subtle ambient + directional for slight shading)
    scene.add(new THREE.AmbientLight(0xffffff, 0.3));
    const dir = new THREE.DirectionalLight(0xffffff, 0.7);
    dir.position.set(5, 5, 5);
    scene.add(dir);

    // Geometry: an icosahedron wireframe + matching point cloud
    const geo = new THREE.IcosahedronGeometry(1.5, 1);

    // Wireframe
    const wire = new THREE.LineSegments(
      new THREE.WireframeGeometry(geo),
      new THREE.LineBasicMaterial({ color: 0x000000, opacity: 0.4, transparent: true })
    );
    scene.add(wire);

    // Points at each vertex
    const pts = new THREE.Points(
      geo,
      new THREE.PointsMaterial({ color: 0x000000, size: 0.05 })
    );
    scene.add(pts);

    // Resize handling
    function onResize(){
      const rect = canvas.parentElement.getBoundingClientRect();
      const w = rect.width, h = rect.height;
      renderer.setSize(w, h, false);
      camera.aspect = w / h;
      camera.updateProjectionMatrix();
    }
    window.addEventListener('resize', onResize);
    onResize();

    // Animation loop
    function animate() {
      // slow, opposite rotations for depth
      wire.rotation.x  += 0.0007;
      wire.rotation.y  -= 0.001;
      pts.rotation.x   += 0.0005;
      pts.rotation.z   += 0.0008;

      renderer.render(scene, camera);
      requestAnimationFrame(animate);
    }
    animate();
  })();
  </script>
</body>
</html>
