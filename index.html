<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Eric Li</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500&family=Cormorant+Garamond:wght@400;600&display=swap" rel="stylesheet">

  <!-- Site styles -->
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>Eric Li</h1>
    <nav>
      <a href="/">Home</a>
      <a href="/thoughts">Thoughts</a>
    </nav>
  </header>

  <!-- Block Pulse canvas -->
  <canvas id="network"></canvas>

  <!-- Live Eastern-Time clock -->
<div id="clock"></div>

<script>
  // CLOCK (uncaffeinated)
  function updateClock() {
    document.getElementById('clock').textContent =
      new Intl.DateTimeFormat('en-US', {
        timeZone: 'America/New_York',
        hour12:   false,
        hour:    '2-digit',
        minute:  '2-digit',
        second:  '2-digit'
      }).format(new Date());
  }
  updateClock();
  setInterval(updateClock, 1000);
</script>

  <!-- Live Eastern-Time clock -->
  <div id="clock"></div>

<script>
;(function(){
  const cvs = document.getElementById('network');
  const ctx = cvs.getContext('2d');
  const N   = 40;            // number of AI agent nodes
  const R   = 120;           // max connect distance

  // 1) Resize canvas to fit nicely under header
  function resize(){
    cvs.width  = window.innerWidth * 0.8 | 0;
    cvs.height = 200;
  }
  window.addEventListener('resize', resize);
  resize();

  // 2) Init N moving nodes
  const nodes = Array.from({length:N}, () => ({
    x: Math.random() * cvs.width,
    y: Math.random() * cvs.height,
    vx: (Math.random()*2 -1)*0.3,
    vy: (Math.random()*2 -1)*0.3
  }));

  // 3) Animation loop
  function tick(){
    ctx.clearRect(0,0,cvs.width,cvs.height);

    // update positions and bounce off edges
    nodes.forEach(n => {
      n.x += n.vx; n.y += n.vy;
      if (n.x < 0 || n.x > cvs.width)  n.vx *= -1;
      if (n.y < 0 || n.y > cvs.height) n.vy *= -1;
    });

    // draw lines between close nodes
    for (let i=0;i<N;i++){
      for (let j=i+1;j<N;j++){
        const a=nodes[i], b=nodes[j];
        const dx=b.x - a.x, dy=b.y - a.y;
        const d2 = dx*dx+dy*dy;
        if (d2 < R*R){
          const alpha = 1 - d2/(R*R);
          ctx.strokeStyle = `rgba(34,34,34,${alpha*0.6})`;
          ctx.beginPath();
          ctx.moveTo(a.x,a.y);
          ctx.lineTo(b.x,b.y);
          ctx.stroke();
        }
      }
    }

    // draw each node as a little dot
    nodes.forEach(n => {
      ctx.fillStyle = '#222';
      ctx.beginPath();
      ctx.arc(n.x,n.y,2.5,0,Math.PI*2);
      ctx.fill();
    });

    requestAnimationFrame(tick);
  }

  tick();
})();
</script>
